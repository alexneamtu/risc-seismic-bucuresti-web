{"version":3,"sources":["Search.js","index.js","logo.svg"],"names":["Search","state","address","addressNumber","items","initial","error","handleOnChange","evt","setState","target","name","value","handleSearch","e","preventDefault","makeApiCall","searchUrl","fetch","then","response","json","jsonData","catch","id","src","logo","className","alt","href","onSubmit","this","type","placeholder","onChange","event","onClick","length","map","item","index","key","street_type","buildingRatings","seismicRating","Intl","DateTimeFormat","year","month","day","format","Date","updatedAt","district","apartmentNumber","heightRegime","yearOfConstruction","yearOfExpertise","expertName","surfaceSize","comments","Component","ReactDOM","render","document","getElementById","module","exports"],"mappings":"0VAwGeA,E,2MAnGXC,MAAQ,CACJC,QAAS,GACTC,cAAe,GACfC,MAAO,GACPC,SAAS,EACTC,OAAO,G,EAGXC,eAAiB,SAACC,GACd,EAAKC,SAAL,eACO,EAAKR,MADZ,eAEKO,EAAIE,OAAOC,KAAOH,EAAIE,OAAOE,U,EAItCC,aAAe,SAACC,GACZA,EAAEC,iBACF,EAAKC,YAAY,EAAKf,MAAMC,QAAS,EAAKD,MAAME,gB,EAGpDa,YAAc,SAACd,EAASC,GACpB,EAAKM,SAAS,CAACH,OAAO,IACtB,IAAMW,EAAS,sEAAkEf,EAAlE,mBAAoFC,GACnGe,MAAMD,GACDE,MAAK,SAAAC,GAEF,OADA,EAAKX,SAAS,CAACJ,SAAS,IACjBe,EAASC,UAEnBF,MAAK,SAAAG,GACF,EAAKb,SAAS,CAACL,MAAOkB,OACvBC,OAAM,WACL,EAAKd,SAAS,CAACH,OAAO,Q,wEAIxB,IAAD,OACL,OACI,yBAAKkB,GAAG,QACJ,yBAAKC,IAAKC,IAAMC,UAAU,WAAWC,IAAI,SACzC,qEACA,0GACA,6HACA,mJACA,qEAA0C,uBAAGC,KAAK,mEAAR,SAC1C,6BACA,0BAAMC,SAAUC,KAAKlB,cACjB,2BACIF,KAAK,UACLqB,KAAK,OACLC,YAAY,SACZC,SAAU,SAAAC,GAAK,OAAI,EAAK5B,eAAe4B,IACvCvB,MAAOmB,KAAK9B,MAAMC,UAEtB,2BACIS,KAAK,gBACLqB,KAAK,OACLE,SAAU,SAAAC,GAAK,OAAI,EAAK5B,eAAe4B,IACvCF,YAAY,QACZrB,MAAOmB,KAAK9B,MAAME,gBAEtB,4BAAQiC,QAASL,KAAKlB,cAAtB,UAGJ,yBAAKW,GAAG,cACFO,KAAK9B,MAAMI,SAAY0B,KAAK9B,MAAMG,MAAMiC,OAAoC,GAA3B,0BAEvD,yBAAKb,GAAG,SACHO,KAAK9B,MAAMK,MAAO,sCAAwC,IAE/D,yBAAKkB,GAAG,mBACHO,KAAK9B,MAAMG,MAAMkC,KAAI,SAACC,EAAMC,GAAP,OAClB,yBAAKb,UAAU,cAAcc,IAAKD,GAC9B,4BAAKD,EAAKG,YAAV,IAAwBH,EAAKrC,QAA7B,KAAwCqC,EAAKpC,eAC7C,4BAAKoC,EAAKI,gBAAgB,GAAGC,eAC7B,6BACA,4BACI,4CAAkB,IAAIC,KAAKC,eAAe,QAAS,CAC/CC,KAAM,UACNC,MAAO,OACPC,IAAK,YACNC,OAAO,IAAIC,KAAKZ,EAAKa,aACxB,uCAAab,EAAKc,UAClB,kDAAwBd,EAAKe,iBAC7B,+CAAqBf,EAAKgB,cAC1B,+CAAqBhB,EAAKiB,oBAC1B,6CAAmBjB,EAAKkB,iBACxB,8CAAoBlB,EAAKmB,YACzB,0CAAgBnB,EAAKoB,aACrB,2CAAiBpB,EAAKqB,qB,GAzFjCC,aCErBC,IAASC,OAAO,kBAAC,EAAD,MAAYC,SAASC,eAAe,U,kBCNpDC,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.b04f80b7.chunk.js","sourcesContent":["import React, {Component} from \"react\";\nimport \"./Search.css\";\nimport logo from './logo.svg';\n\nclass Search extends Component {\n    state = {\n        address: \"\",\n        addressNumber: \"\",\n        items: [],\n        initial: true,\n        error: false,\n    };\n\n    handleOnChange = (evt) => {\n        this.setState({\n            ...this.state,\n            [evt.target.name]: evt.target.value,\n        })\n    };\n\n    handleSearch = (e) => {\n        e.preventDefault();\n        this.makeApiCall(this.state.address, this.state.addressNumber);\n    };\n\n    makeApiCall = (address, addressNumber) => {\n        this.setState({error: false})\n        const searchUrl = `https://risc-seismic-bucuresti.herokuapp.com/routes?address=${address}&number=${addressNumber}`;\n        fetch(searchUrl)\n            .then(response => {\n                this.setState({initial: false})\n                return response.json();\n            })\n            .then(jsonData => {\n                this.setState({items: jsonData});\n            }).catch(() => {\n                this.setState({error: true});\n            });\n    };\n\n    render() {\n        return (\n            <div id=\"main\">\n                <img src={logo} className=\"App-logo\" alt=\"logo\" />\n                <h1>Cautare rapida risc seismic Bucuresti</h1>\n                <p>Din motive tehnice, serverul se opreste dupa 30 de minute de inactivitate. </p>\n                <p>Din acest motiv daca nu se returneaza rezultate din prima, incercati din noi in 30 de secunde.</p>\n                <p>Am investit fix 4 ore in proiectul asta. E departe de a fi perfect. Daca vad ca exista interes, mai investesc in el.</p>\n                <p>Pentru orice problema creati un tichet <a href=\"https://github.com/alexneamtu/risc-seismic-bucuresti-web/issues\">aici</a></p>\n                <br/>\n                <form onSubmit={this.handleSearch}>\n                    <input\n                        name=\"address\"\n                        type=\"text\"\n                        placeholder=\"Adresa\"\n                        onChange={event => this.handleOnChange(event)}\n                        value={this.state.address}\n                    />\n                    <input\n                        name=\"addressNumber\"\n                        type=\"text\"\n                        onChange={event => this.handleOnChange(event)}\n                        placeholder=\"Numar\"\n                        value={this.state.addressNumber}\n                    />\n                    <button onClick={this.handleSearch}>Cauta</button>\n                </form>\n\n                <div id=\"no-results\">\n                    {!this.state.initial && !this.state.items.length ? 'Nu am gasit rezultate.' : ''}\n                </div>\n                <div id=\"error\">\n                    {this.state.error? 'Incercati din nou in 30 de secunde.' : ''}\n                </div>\n                <div id=\"items-container\">\n                    {this.state.items.map((item, index) => (\n                        <div className=\"single-item\" key={index}>\n                            <h2>{item.street_type} {item.address}, {item.addressNumber}</h2>\n                            <h4>{item.buildingRatings[0].seismicRating}</h4>\n                            <br/>\n                            <ul>\n                                <li>Actualizare: {new Intl.DateTimeFormat(\"ro-RO\", {\n                                    year: \"numeric\",\n                                    month: \"long\",\n                                    day: \"2-digit\"\n                                }).format(new Date(item.updatedAt))}</li>\n                                <li>Sector: {item.district}</li>\n                                <li>Numar apartamente: {item.apartmentNumber}</li>\n                                <li>Regim inaltime: {item.heightRegime}</li>\n                                <li>An constructie: {item.yearOfConstruction}</li>\n                                <li>An expertiza: {item.yearOfExpertise}</li>\n                                <li>Expertizat de: {item.expertName}</li>\n                                <li>Suprafata: {item.surfaceSize}</li>\n                                <li>Comentarii: {item.comments}</li>\n                            </ul>\n                        </div>\n                    ))}\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default Search;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Search from './Search';\n\n\nReactDOM.render(<Search />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/logo.4612253a.svg\";"],"sourceRoot":""}